{% extends 'core/base.html' %}
{% load static %}
{% block title %}
    Registro
{% endblock %}
{% block navbar %}
{% endblock %}
{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-3 mx-auto mt-5 text-center">
            <a href="{% url 'home' %}" class="text-decoration-none"><h1 class="font-weight-bold font-italic display-3"><span class="text-primary">Pa</span><span class="text-success">’Ya</span></h1></a>
            {% if request.user.is_authenticated %}
                <h3>Debes cerrar la sesión actual para crear una nueva cuenta.</h3>
                <h4>¿Quieres cerrar sesión?</h4>
                <p>Si, deseo <a href="{% url 'logout'%}">Cerrar sesión</a> y crear una nueva cuenta.</p>
                <p>No, deseo <a href="{% url 'home'%}">Volver a inicio</a>, llegué aquí accidentalmente.</p>
            {% else %}
            <h3>Bienvenido</h3>
            <h4 class="font-weight-bold">Regístrate</h4>
            <h5 class="text-secondary">¡Para comprar y vender ya!</h5>
            <form  method="post">
                {% csrf_token %}
                <div class="form-group my-0 py-2">
                    <input type="email" name="email" aria-describedby="emailHelp" maxlength="100" autofocus required class="form-control" id="id_email" placeholder="Correo electrónico">
                    <small id="emailHelp" class="form-text text-muted text-left">Ej. ejmplo@payahn.com</small>
                </div>
                <div class="row">
                    <div class="col-6 pr-1 mr-0">
                        <div class="form-group my-0 py-2">
                            <input type="text" name="first_name" maxlength="50" required class="form-control" id="id_first_name" placeholder="Nombre">
                        </div>
                    </div>
                    <div class="col-6 pl-1 ml-0">
                        <div class="form-group my-0 py-2">
                            <input type="text" name="last_name" maxlength="50" required class="form-control" id="id_last_name" placeholder="Apellido">
                        </div>
                    </div>
                </div>
                <div class="form-group my-0 py-2 text-left">
                    <label for="id_birth_date" class="text-muted">Fecha de nacimiento</label>
                    <input type="date" name="birth_date" required class="form-control today" id="id_birth_date">
                </div>
                <div class="form-group my-0 py-2">
                    <input type="text" name="phone_number" maxlength="8" minlength="8" required class="form-control" id="id_phone_number" placeholder="Número de teléfono">
                    <small id="phone_numberHelp" class="form-text text-muted text-left">Ej. 99999999</small>
                </div>
                <div class="form-group my-0 py-2">
                    <textarea class= 'form-control' name="address" rows="1" required id="id_address" placeholder="Dirección"></textarea>
                </div>
                <div class="row">
                    <div class="col-6 pr-1 mr-0">
                        <div class="form-group my-0 pt-2">
                            <input type="password" name="password1" required class="form-control" id="id_password1" aria-describedby="passwordHelp" placeholder="Contraseña">
                            
                        </div>
                    </div>
                    <div class="col-6 pl-1 ml-0">
                        <div class="form-group my-0 pt-2">
                            <input type="password" name="password2" required class="form-control" id="id_password2" placeholder="Confirmar contraseña">
                        </div>
                    </div>
                </div>
                <small id="passwordHelp" class="form-text text-muted mt-0 pt-0 text-left">Mínimo 8 carcateres</small>
                <button type="submit" class="btn btn-primary btn-block my-3">Registrarte</button>
                <a href="{% url 'login' %}">Iniciar Sesion</a>
            </form> 
            {% endif %}
        </div>
    </div>
</div>     
{% endblock %}
